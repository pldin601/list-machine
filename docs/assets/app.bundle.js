webpackJsonp([0],[,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(40);e.Lambda=r.default;var i=n(14);e.LMSymbol=i.default;var u=n(42);e.Macro=u.default,e.isLMType=function(t){return t instanceof r.default||t instanceof u.default||t instanceof i.default},e.isLMSymbol=function(t){return t instanceof i.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.isList=function(t){return Array.isArray(t)},e.isEmptyList=function(t){return e.isList(t)&&r.isEmpty(t)},e.isSymbol=function(t){return r.isString(t)},e.arraySplitBy=function(t,e){var n=[[]];return t.forEach(function(t){if(e(t))return void n.push([]);r.last(n).push(t)}),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(41),i=n(8),u=n(1),o=n(2),a=n(14),c=function(t){return o.isList(t)?"("+t.map(c).join(" ")+")":t instanceof u.Lambda?"("+i.LAMBDA+" "+c(t.args)+" "+t.body.map(c).join(" ")+")":t instanceof u.Macro?"("+i.MACRO+" "+c(t.args)+" "+t.body.map(c).join(" ")+")":t instanceof a.default?t.value:"string"==typeof t?'"'+t.replace('"','\\""')+'"':r(t)?t:String(t)};e.default=c},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);e.default=function(t){var e=!1,n=[];return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];var o;if(n.push(i),!e){for(e=!0;!r.isEmpty(n);)o=t.apply(void 0,n.shift());e=!1}return o}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(1),u=n(2);e.OP_ADD="+",e.OP_MUL="*",e.OP_SUB="-",e.OP_DIV="/",e.OP_MOD="mod",e.OP_EQ="eq?",e.OP_NE="ne?",e.OP_GT="gt?",e.OP_LT="lt?",e.OP_GTE="gte?",e.OP_LTE="lte?",e.OP_NOT="not",e.ST_DEF="def",e.LAMBDA="lambda",e.MACRO="macro",e.QUOTE="quote",e.EVAL="eval",e.EVAL_IN="eval-in",e.COND="cond",e.EXP_LIST="list",e.EXP_NEW="new",e.specialForms=[e.OP_ADD,e.OP_MUL,e.OP_SUB,e.OP_DIV,e.OP_MOD,e.OP_EQ,e.OP_NE,e.OP_GT,e.OP_LT,e.OP_GTE,e.OP_LTE,e.OP_NOT,e.ST_DEF,e.LAMBDA,e.MACRO,e.QUOTE,e.EVAL,e.EVAL_IN,e.COND,e.EXP_LIST,e.EXP_NEW],e.isSpecialForm=function(t){return r.includes(e.specialForms,t)},e.reduceArguments=function(t,e,n,i){return e.slice(1).reduce(function(e,r){return t(e,n(r,i))},n(r.first(e),i))},e.callSpecialForm=function(t,n,o,a){switch(t){case e.OP_ADD:return e.reduceArguments(function(t,e){return t+e},n,o,a);case e.OP_MUL:return e.reduceArguments(function(t,e){return t*e},n,o,a);case e.OP_SUB:return e.reduceArguments(function(t,e){return t-e},n,o,a);case e.OP_DIV:return e.reduceArguments(function(t,e){return t/e},n,o,a);case e.OP_MOD:return e.reduceArguments(function(t,e){return t%e},n,o,a);case e.OP_EQ:return e.reduceArguments(function(t,e){return t===e},n,o,a);case e.OP_NE:return e.reduceArguments(function(t,e){return t!==e},n,o,a);case e.OP_GT:return e.reduceArguments(function(t,e){return t>e},n,o,a);case e.OP_LT:return e.reduceArguments(function(t,e){return t<e},n,o,a);case e.OP_GTE:return e.reduceArguments(function(t,e){return t>=e},n,o,a);case e.OP_LTE:return e.reduceArguments(function(t,e){return t<=e},n,o,a);case e.OP_NOT:return!o(r.first(n),a);case e.ST_DEF:var c=r.chunk(n,2);if(!c.every(function(t){var e=t[0];return i.isLMSymbol(e)}))throw new Error("Could not use non-LMSymbol for binding");return c.forEach(function(t){var e=t[0],n=t[1];return a.bind(e.value,o(n,a))});case e.LAMBDA:var s=n[0],f=n.slice(1);if(!s.every(function(t){return i.isLMSymbol(t)}))throw new Error("Could not use non-LMSymbol as Lambda argument name");return new i.Lambda(s.map(function(t){return t.value}),f,a);case e.MACRO:var l=n[0],d=n.slice(1);if(u.isList(l)){if(!l.every(function(t){return i.isLMSymbol(t)}))throw new Error("Could not use non-LMSymbol as Macro argument name");return new i.Macro(l,d)}if(!i.isLMSymbol(l))throw new Error("Could not use non-LMSymbol as Macro argument name");return new i.Macro(l,d);case e.QUOTE:return r.first(n);case e.EVAL:return o(r.first(n),a);case e.EVAL_IN:var p=o(r.first(n),a);if(!(p instanceof i.Lambda))throw new Error("First argument must be lambda");return o(n[1],p.env);case e.COND:for(var E=0,v=n;E<v.length;E++){var y=v[E];if(1===y.length)return o(r.first(y),a);if(0!==y.length&&o(r.first(y),a))return o(r.last(y),a)}return;case e.EXP_LIST:return n.map(function(t){return o(t,a)});case e.EXP_NEW:var _=n.map(function(t){return o(t,a)}),O=r.first(_);return new(O.bind.apply(O,[void 0].concat(r.tail(_))));default:throw new Error("Unknown special form - "+t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(0),u=n(43),o=n(7),a=n(1);e.OPEN_PARENTHESIS=Symbol("OPEN_PARENTHESIS"),e.CLOSE_PARENTHESIS=Symbol("CLOSE_PARENTHESIS"),e.APOSTROPHE=Symbol("APOSTROPHE"),e.INDENT=Symbol("INDENT"),e.NEW_LINE=Symbol("NEW_LINE"),e.PLACEHOLDER=Symbol("PLACEHOLDER");var c=function(t){return i.includes(["true","false"],t)},s=function(t){return!isNaN(parseFloat(t))},f=function(t){return"_"===t?e.PLACEHOLDER:c(t)?"true"===t:s(t)?parseFloat(t):new a.LMSymbol(t)},l=function(t){var n=o.default(function(t,o,a){var s=t[0],f=t.slice(1);if(i.isNil(s)){if(0!==o)throw new Error("Unbalanced parenthesis");return a}switch(s){case"(":return n(f,o+1,a.concat([e.OPEN_PARENTHESIS]));case")":return n(f,o-1,a.concat([e.CLOSE_PARENTHESIS]));case"\r":case"\t":case" ":return n(f,o,a);case"\n":return 0===o?c(f,o,a.concat([e.NEW_LINE])):n(f,o,a);case"'":return n(f,o,a.concat([e.APOSTROPHE]));case'"':return u(f,"",o,a);default:return r(f,s,o,a)}}),r=o.default(function(t,e,u,o){var a=t[0],c=t.slice(1);if(i.isNil(a)){if(0!==u)throw new Error("Unexpected symbol literal");return o.concat([f(e)])}switch(a){case"(":case")":case"\r":case"\t":case" ":case"\n":return n(t,u,o.concat([f(e)]));default:return r(c,""+e+a,u,o)}}),u=o.default(function(t,e,r,o){var c=t[0],s=t.slice(1);if(i.isNil(c))throw new Error("Unterminated string literal");switch(c){case'"':return n(s,r,o.concat([e]));case"\\":return a(s,e,r,o);default:return u(s,""+e+c,r,o)}}),a=o.default(function(t,e,n,r){var o=t[0],a=t.slice(1);if(i.isNil(o))throw new Error("Unterminated escape literal");return u(a,""+e+o,n,r)}),c=o.default(function(t,r,u){var o=t[0],a=t.slice(1);if(i.isNil(o))return u;switch(o){case" ":return c(a,r,u.concat([e.INDENT]));default:return n(t,r,u)}});return c(t,0,[])},d=function(t){return t.split("")};e.default=r(u.default,l,d)},,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t){this.value=t}return t.prototype.toString=function(){return r.default(this)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(17),u=n(27);n(44),i.render(r.createElement(u.default,null),document.getElementById("console"))},,,,,,,,,,,,function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),u=n(28),o=n(3),a=function(t){function e(e){var n=t.call(this,e)||this;return n.state={history:[],input:""},n.onInputChange=n.onInputChange.bind(n),n.onKeyPressed=n.onKeyPressed.bind(n),n}return r(e,t),e.prototype.render=function(){return i.createElement("div",{className:"console"},this.renderHistory(),i.createElement("input",{className:"input",onChange:this.onInputChange,onKeyPress:this.onKeyPressed,value:this.state.input}))},e.prototype.addLineToLog=function(t){this.setState({history:this.state.history.concat([t])})},e.prototype.onInputChange=function(t){this.setState({input:t.target.value})},e.prototype.onKeyPressed=function(t){var e=this;if("Enter"===t.key){var n=this.state.input;this.addLineToLog(n),this.setState({input:""}),setTimeout(function(){try{e.addLineToLog(o.default(u.default(n)))}catch(t){e.addLineToLog(t.message)}})}},e.prototype.renderHistory=function(){return i.createElement("div",{className:"history"},this.state.history.map(function(t,e){return i.createElement("div",{className:"row"},t)}))},e}(i.Component);e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=n(30),u=n(31),o=n(32),a=n(8),c=n(9),s=n(1),f=n(2),l=new i.default,d=u.default(),p=function(t,e){var n=t.value;return e.isBound(n)?e.get(n):y(n)?d[n.slice(3)]:t},E=function(t,e){return f.isList(t)?_(t,e):s.isLMSymbol(t)?p(t,e):t},v=function(t){return s.isLMSymbol(t)&&"."===t.value[0]},y=function(t){return"string"==typeof t&&"js/"===t.slice(0,3)},_=function(t,e){if(f.isEmptyList(t))return t;var n=t[0],i=t.slice(1),u=E(n,e);if(s.isLMSymbol(u)&&a.isSpecialForm(u.value))return a.callSpecialForm(u.value,i,E,e);if(u instanceof s.Macro){var o=r.zipObject(u.args,i);return m(o,u.body).reduce(function(t,n){return E(n,e)},void 0)}var c=i.map(function(t){return E(t,e)});if(v(u))return O(e,u.value.slice(1),r.first(c),r.tail(c));if(u instanceof s.Lambda){var o=r.zipObject(u.args,c),l=u.env.newEnv(o);return u.body.reduce(function(t,e){return E(e,l)},void 0)}if("function"==typeof u)return u.apply(void 0,c);throw new Error('Symbol "'+u+'" is not callable')},O=function(t,e,n,r){var i=r.map(function(e){return e instanceof s.Lambda&&!s.isLMType(n)?function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return E([e,[new s.LMSymbol("quote")].concat(n)],t)}:e});return n[e].apply(n,i)},m=function(t,e){return e.map(function(e){return f.isList(e)?m(t,e):s.isLMSymbol(e)&&e.value in t?t[e.value]:e})};e.default=function(t,e){void 0===e&&(e=l);var n=c.default(t);return o.default(n).reduce(function(t,n){return E(n,e)},void 0)}},,function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){void 0===t&&(t={}),this.bindings=t,this.parent=e}return t.prototype.get=function(t){return t in this.bindings?this.bindings[t]:this.parent?this.parent.get(t):null},t.prototype.bind=function(t,e){this.bindings[t]=e},t.prototype.bindAll=function(t){this.bindings=r({},this.bindings,t)},t.prototype.mutate=function(t,e){if(t in this.bindings)return void(this.bindings[t]=e);this.parent&&this.parent.mutate(t,e)},t.prototype.isBound=function(t){return t in this.bindings||!!this.parent&&this.parent.isBound(t)},t.prototype.newEnv=function(e){return void 0===e&&(e={}),new t(e,this)},t}();e.default=i},function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){if("object"==typeof t)return t;if("object"==typeof window)return window;throw new Error("Unknown environment")}}).call(e,n(13))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(0),u=n(7),o=n(8),a=n(9),c=n(1),s=n(2),f=function(t){var e=u.default(function(n,r){var u=t[n];if(i.isNil(u))throw new Error("Open parenthesis has no pair");switch(u){case a.OPEN_PARENTHESIS:return e(n+1,r+1);case a.CLOSE_PARENTHESIS:return 0===r?n:e(n+1,r-1);default:return e(n+1,r)}});return e(0,0)},l=function(t){var e=u.default(function(n,r){if(i.isNil(t[n]))return r;var u=t[n],o=t.slice(n+1);switch(u){case a.OPEN_PARENTHESIS:var c=f(o),s=l(o.slice(0,c));return e(n+c+2,r.concat([s]));case a.CLOSE_PARENTHESIS:throw new Error("Close parenthesis has no pair");default:return e(n+1,r.concat([u]))}});return e(0,[])},d=function(t){var e=u.default(function(t,n){var r=t[0],u=t.slice(1);return i.isNil(r)?n:s.isList(r)?e(u,n.concat([d(r)])):r===a.APOSTROPHE?e(i.tail(u),n.concat([[new c.LMSymbol(o.QUOTE),i.head(u)]])):e(u,n.concat([r]))}),n=e(t,[]);return p(n)?E(n):n},p=function(t){return!i.isEmpty(i.find(t,function(t){return t===a.PLACEHOLDER}))},E=function(t){return t};e.default=r(d,l)},,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t,e,n){this.args=t,this.body=e,this.env=n}return t.prototype.toString=function(){return r.default(this)},t}();e.default=i},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=function(){function t(t,e){this.args=t,this.body=e}return t.prototype.toString=function(){return r.default(this)},t}();e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(6),i=n(0),u=n(7),o=n(9),a=n(2),c=function(t){return a.arraySplitBy(t,function(t){return t===o.NEW_LINE})},s=function(t){return i.flatten(t)},f=function(t){return t.every(function(t){return t===o.INDENT})},l=function(t){return t.filter(function(t){return!f(t)})},d=function(t){if(i.isEmpty(t))return[];var e=i.min(t.map(function(t){return _(t)}));return t.map(function(t){return t.slice(e)})},p=function(t){var e=u.default(function(t,n,r){var u=t[0],a=t[1],c=t.slice(2);if(void 0===n&&(n=[]),void 0===r&&(r=[]),i.isNil(u))return r;var s=_(u),f=v(n,s),l=i.isNil(a)?0:_(a),d=i.isNil(a)?[]:[a].concat(c),p=u.slice(s);if(i.isEmpty(n)&&E(u))return e(d,n,r.concat([p]));if(l>s)return e(d,f,r.concat([[o.OPEN_PARENTHESIS].concat(p)]));var y=1===i.size(p)?p:[o.OPEN_PARENTHESIS].concat(p,[o.CLOSE_PARENTHESIS]);if(l===s)return e(d,f,r.concat([y]));var O=v(f,l),m=i.size(f)-i.size(O),P=Array(m).fill(o.CLOSE_PARENTHESIS);return e(d,f,r.concat([y.concat(P)]))});return e(t)},E=function(t){return i.includes([o.OPEN_PARENTHESIS,o.APOSTROPHE],i.head(t))},v=function(t,e){var n=i.sum(t);return e===n?t:e>n?t.concat([e-n]):y(t,n-e)},y=function(t,e){if(0===e)return t;var n=i.last(t),r=i.initial(t);return n>e?r:y(r,e-n)},_=function(t){return i.size(i.takeWhile(t,function(t){return t===o.INDENT}))};e.default=r(s,p,d,l,c)},function(t,e){}],[15]);